create database Cafe;

use Cafe;

create table usuario(
idusuario 		int not null auto_increment primary key,
nmusuario 		varchar(255),
nmlogin			varchar(255),
nmemailusuario	varchar(255),
celular 		varchar(255),
telefone 		varchar(255),
cpf 			varchar(11),
nmsenha 		varchar(255),
flativo 		bool,
fladm 			bool default 0 not null,
datainclusao 	datetime,
dataalteracao 	datetime,
CONSTRAINT usuarioUnique UNIQUE (nmlogin)
);

create table Turma(
IdTurma 			int not null auto_increment primary key,
IdUsuarioCriador 	int not null,
QuantidadeTurma 	int not null,
DataCriacao 		datetime
);

create table TurmaPontuacao(
IdTurmaPontuacao 	int not null auto_increment primary key,
IdTurma 			int not null,
IdUsuario 			int not null,
OrdemUsuario 		int,
Pontuacao 			int,
QuantidadeRodadas 	int,
DataUltimaAlteracao datetime
);

--======================================================--

INSERT INTO usuario (nmusuario, nmlogin,nmsenha,flativo,fladm) VALUES ('Gustavo Handa', 'ghanda','1234',0,1);
INSERT INTO usuario (nmusuario, nmlogin,nmsenha,flativo,fladm) VALUES ('Danilo Chicale', 'dchicale','1234',0,1);
INSERT INTO usuario (nmusuario, nmlogin,nmsenha,flativo,fladm) VALUES ('Osmar Landin', 'olandin','1234',0,1);
INSERT INTO usuario (nmusuario, nmlogin,nmsenha,flativo,fladm) VALUES ('Bruno Serra', 'bserra','1234',0,1);
INSERT INTO usuario (nmusuario, nmlogin,nmsenha,flativo,fladm) VALUES ('Daniel Barros', 'dbarros','1234',0,1);

insert into Turma (IdUsuarioCriador, QuantidadeTurma, DataCriacao) values (1,5,now())

insert into TurmaPontuacao (IdTurma, IdUsuario, OrdemUsuario, Pontuacao, QuantidadeRodadas, DataUltimaAlteracao) values (1,1,1,0,0,now())
insert into TurmaPontuacao (IdTurma, IdUsuario, OrdemUsuario, Pontuacao, QuantidadeRodadas, DataUltimaAlteracao) values (1,2,2,0,0,now())
insert into TurmaPontuacao (IdTurma, IdUsuario, OrdemUsuario, Pontuacao, QuantidadeRodadas, DataUltimaAlteracao) values (1,3,3,0,0,now())
insert into TurmaPontuacao (IdTurma, IdUsuario, OrdemUsuario, Pontuacao, QuantidadeRodadas, DataUltimaAlteracao) values (1,4,4,0,0,now())
insert into TurmaPontuacao (IdTurma, IdUsuario, OrdemUsuario, Pontuacao, QuantidadeRodadas, DataUltimaAlteracao) values (1,5,5,0,0,now())


